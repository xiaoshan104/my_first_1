<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>è¡¨å•éªŒè¯</title>
</head>
<body>
<form action="#" name="form1">
    ç”¨æˆ·å:<input type="text" name="user"><i></i><br>
    å¯†ç :<input type="password" name="pwd1"><i></i><br>
    é‡å¤å¯†ç :<input type="password" name="pwd2"><i></i><br>
    <input type="submit" value="æ³¨å†Œ">
</form>
<script>
    //è·å–é¡µé¢ä¸­æŒ‡å®šnameå±æ€§çš„å€¼çš„form
    var form1 = document.forms.form1;
    var input1Check = function (){
        var reg = /^[a-z_]\w{4,14}$/gi;
        var i = form1.user.nextElementSibling;
        var result = checkInput(form1.user, reg, function (result){
            if (result){
                i.innerHTML = "ğŸ‘Œ"
            }else{
                i.innerHTML = "âŒ"
            }
        })
        return result;

    }
    var input2Check = function (){
        var i = form1.pwd1.nextElementSibling;
        var reg = /^\w\w{7,}$/gi;
        var result = checkInput(form1.pwd1, reg, function (result){
            if (result){
                i.innerHTML = "ğŸ‘Œ"
            }else{
                i.innerHTML = "âŒ"
            }
        })
        return result;
    }
    var input3Check = function (){
        var i = form1.pwd2.nextElementSibling;
        if (form1.pwd2.value == form1.pwd1.value){
            i.innerHTML = "âœ…ä¸¤æ¬¡å¯†ç ä¸€è‡´"
            return true;
        }else{
            i.innerHTML = "âä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´"
            return false;
        }
    }

    function checkInput(input, reg, onChecked){
        var result = reg.test(input.value);
        onChecked(result);
        return result;
    }
   
    //å½“inputå¤±å»ç„¦ç‚¹çš„æ—¶å€™å»éªŒè¯ç”¨æˆ·çš„è¾“å…¥æ˜¯å¦æ»¡è¶³è¦æ±‚
    form1.user.onblur = input1Check;
    form1.pwd1.onblur = input2Check;
    form1.pwd2.onblur = input3Check;
    //è¡¨å•æäº¤äº‹ä»¶
    form1.onsubmit = function (event){
        if (!(input1Check() && input2Check() && input3Check())){
            event.preventDefault();
        }
    }
</script>
</body>
</html>

